(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["player"],{"35bf":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"meta-nftcard",attrs:{elevation:"0",outlined:""}},[a("v-card-title",[t.d.logoUri?a("span",{key:"drop_logo"},[a("v-avatar",[a("v-img",{attrs:{src:t.d.logoUri}})],1)],1):t._e(),a("span",{staticClass:"title pl-2"},[t._v(" "+t._s(t.d.name)+" "+t._s(t.chainId)+" ")])]),a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"text-over-line"},[a("span",[t._v(t._s(t.d.nftInfo?t.d.nftInfo.name:""))]),t._v(" "),a("span",{staticClass:"drop-total"},[t._v("["+t._s(t.d.dropTotal)+"]")])]),a("v-list-item-title"),a("v-list-item-subtitle",[t._v(" "+t._s(t.d.nftInfo?t.d.nftInfo.description:"")+" ")])],1),t.d.nftInfo&&t.d.nftInfo.image?a("v-list-item-avatar",{key:"'img_' + id",attrs:{size:"120",tile:"",color:"grey"}},[a("v-img",{attrs:{src:t.d.nftInfo.image}})],1):a("v-list-item-avatar",{key:"'_spanImg_' + id",attrs:{size:"80",tile:"",color:"grey"}},[t._v(" "+t._s(t.d.nftInfo&&t.d.nftInfo.name?t.d.nftInfo.name.length>3?t.d.nftInfo.name.slice(0,3):t.d.nftInfo.name:"")+" ")])],1),a("v-card-actions",[a("v-btn",{staticClass:"px-6",attrs:{rounded:"",outlined:"",small:"",text:""},on:{click:t.claimHandler}},[t._v("Claim")])],1)],1)],1)},n=[],s=a("1da1"),i=a("53ca"),o=a("5530"),d=(a("96cf"),a("7db0"),a("d3b7"),a("d9e2"),a("2ca0"),a("498a"),a("fb6a"),a("a559")),c=a("f47e"),l=a("2f62"),m={name:"DropDetail",components:{},data:function(){return{id:"",claimParam:{}}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["c"])("wal",["chainId"])),Object(l["b"])("biz",["dropItems"])),Object(l["b"])("wal",["currentAddress"])),{},{d:function(){var t=this.id,e=(this.dropItems||[]).find((function(e){return e.dropid===t||e.dropid===parseInt(t)}));return e||{}},canClaim:function(){return this.claimParam&&this.claimParam.address}}),mounted:function(){var t=this,e=this.$route.params.id,a=this.$store.state.wal.selectedAddress;this.id=e,a&&e&&this.$api("drop.getClaimParams",{dropId:e,address:a}).then((function(e){var a=e.code,r=e.msg,n=e.data;if(0!==a||"object"!==Object(i["a"])(n))throw new Error(r||"not get drop token");t.claimParam=n})).catch((function(t){console.log(t)}))},methods:{claimHandler:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s,o,l,m,f,p,u,v,b,h,I,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,e.prev=1,r=t.id,n=t.$store.state.wal||{},s=n.chainId,o=n.selectedAddress,s&&o){e.next=6;break}throw new Error("Please connect wallet");case 6:if(r){e.next=8;break}throw new Error("Miss dropid or address");case 8:return e.next=10,t.$api("drop.getClaimParams",{dropId:r,address:o});case 10:if(l=e.sent,m=l.code,f=l.msg,p=l.data,0===m&&"object"===Object(i["a"])(p)&&p){e.next=14;break}throw new Error("ok"===f?"Not found your address in this drop":f);case 14:return u=Object(d["b"])(),e.next=17,Object(c["a"])(u,{selectedAddress:o,dropid:p.dropId,tokenId:p.tokenId,proof:p.proof,chainId:s});case 17:e.sent,e.next=26;break;case 20:e.prev=20,e.t0=e["catch"](1),v=e.t0.message,console.log("ex",e.t0.message);try{b=e.t0.message,h="Internal JSON-RPC error.",b.startsWith(h)&&(I=b.slice(h.length).trim(),g=JSON.parse(I),v=g.message||e.t0.message)}catch(w){}a.$toast(v,"fail",1e4);case 26:case"end":return e.stop()}}),e,null,[[1,20]])})))()}}},f=m,p=a("0c7c"),u=a("6544"),v=a.n(u),b=a("8212"),h=a("8336"),I=a("b0af"),g=a("99d9"),w=a("a523"),_=a("adda"),j=a("da13"),k=a("8270"),C=a("5d23"),O=Object(p["a"])(f,r,n,!1,null,"06bc5c95",null);e["default"]=O.exports;v()(O,{VAvatar:b["a"],VBtn:h["a"],VCard:I["a"],VCardActions:g["a"],VCardTitle:g["b"],VContainer:w["a"],VImg:_["a"],VListItem:j["a"],VListItemAvatar:k["a"],VListItemContent:C["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"]})}}]);
//# sourceMappingURL=player.4dbcb037.js.map